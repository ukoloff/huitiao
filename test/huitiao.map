{
  "version": 3,
  "file": "generated.js",
  "sources": [
    "W:\\Work\\js\\huitiao\\node_modules\\browser-pack\\_prelude.js",
    "W:/Work/js/huitiao/src/email.coffee",
    "W:/Work/js/huitiao/src/html.coffee",
    "W:/Work/js/huitiao/src/jsonp.coffee",
    "W:/Work/js/huitiao/src/main.coffee",
    "W:/Work/js/huitiao/src/merge.coffee",
    "W:/Work/js/huitiao/src/submit.coffee"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "module.exports = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n",
    "module.exports = \"<a href='#' title='Закрыть окно'>&times;</a>\\n<form autocomplete=\\\"off\\\">\\n<p>Укажите Ваш телефон<br>и мы Вам перезвоним:</p>\\n<label><div>Имя</div><input type=\\\"text\\\" name=\\\"name\\\"></label>\\n<label><div>Телефон\\n(<span class=\\\"text-error\\\">обязательно</span>)</div>\\n<input type=\\\"text\\\" name=\\\"tel\\\" autofocus required></label>\\n<label><div>E-mail</div><input type=\\\"text\\\" name=\\\"mail\\\"></label>\\n<label><div>Когда удобно звонить</div><input type=\\\"text\\\" name=\\\"time\\\"></label>\\n<label><div>Примечания</div><textarea name=\\\"notes\\\"></textarea></label>\\n<br><input type=\\\"submit\\\" value=\\\"Позвоните мне!\\\">\\n<p></p>\\n</form>\";\n",
    "var jsonp, merge, quote, random;\n\nmerge = require(1);\n\nquote = encodeURIComponent;\n\njsonp = function(options) {\n  var Clear, Error, callback, cbname, data, h, js, k, q, timeout, url, v, _ref;\n  _ref = merge(jsonp.defaults, options), url = _ref.url, callback = _ref.callback, timeout = _ref.timeout;\n  while (window[cbname = \"_\" + (random(15))]) {}\n  data = merge(options.data);\n  data[callback] = cbname;\n  q = '';\n  for (k in data) {\n    v = data[k];\n    if ((v != null) && (v = String(v)).length) {\n      q += \"\" + (q.length || 0 <= url.indexOf('?') ? '&' : '?') + (quote(k)) + \"=\" + (quote(v));\n    }\n  }\n  window[cbname] = function(data) {\n    Clear();\n    return typeof options.success === \"function\" ? options.success(data) : void 0;\n  };\n  Error = function() {\n    Clear();\n    return typeof options.error === \"function\" ? options.error() : void 0;\n  };\n  js = document.createElement('script');\n  js.onerror = Error;\n  js.src = url + q;\n  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(js);\n  h = setTimeout(Error, timeout);\n  Clear = function() {\n    try {\n      delete window[cbname];\n    } catch (_error) {\n      window[cbname] = null;\n    }\n    clearTimeout(h);\n    js.onerror = null;\n    js.parentNode.removeChild(js);\n    return js = null;\n  };\n};\n\njsonp.defaults = {\n  callback: 'callback',\n  timeout: 3000\n};\n\nrandom = function(q) {\n  var n, s;\n  if (q == null) {\n    q = 1;\n  }\n  s = '';\n  while (s.length < q) {\n    n = Math.floor(62 * Math.random());\n    s += String.fromCharCode(n % 26 + 'Aa0'.charCodeAt(n / 26));\n  }\n  return s;\n};\n\nmodule.exports = jsonp;\n",
    "var html, submit;\n\nhtml = require(1);\n\nsubmit = require(2);\n\nsetTimeout(function() {\n  var a, hide, linpen, popup, token;\n  if (!(a = document.getElementById('huitiao'))) {\n    return;\n  }\n  token = a.className;\n  popup = null;\n  a.onclick = function() {\n    if (popup) {\n      return hide();\n    }\n    a.parentElement.appendChild(popup = linpen());\n    return false;\n  };\n  linpen = function() {\n    var div;\n    div = document.createElement('div');\n    div.id = 'huitiao-popup';\n    div.innerHTML = html;\n    div.getElementsByTagName('a')[0].onclick = hide;\n    div.getElementsByTagName('form')[0].onsubmit = submit(token, hide);\n    return div;\n  };\n  return hide = function() {\n    popup.parentNode.removeChild(popup);\n    popup = null;\n    return false;\n  };\n});\n",
    "var merge;\n\nmerge = function() {\n  var k, r, v, x, _i, _len;\n  r = {};\n  for (_i = 0, _len = arguments.length; _i < _len; _i++) {\n    x = arguments[_i];\n    if (x != null) {\n      for (k in x) {\n        v = x[k];\n        r[k] = v;\n      }\n    }\n  }\n  return r;\n};\n\nmodule.exports = merge;\n",
    "var email, jsonp, submit;\n\nemail = require(1);\n\njsonp = require(2);\n\nsubmit = function(token, hide) {\n  return function() {\n    var $info, data, error, i, info, _i, _len;\n    data = {\n      form_api_token: token\n    };\n    $info = this.getElementsByTagName('p');\n    $info = $info[$info.length - 1];\n    info = function(txt, klass) {\n      $info.innerHTML = txt;\n      if (klass) {\n        return $info.className = klass;\n      }\n    };\n    error = function() {\n      return info(\"Сбой отправки сообщения\", 'error');\n    };\n    for (_i = 0, _len = this.length; _i < _len; _i++) {\n      i = this[_i];\n      if (i.name) {\n        data[i.name] = i.value.replace(/^\\s+|\\s+$/g, '');\n      }\n    }\n    if ((data.tel.replace(/\\D+/, '')).length < 7) {\n      info('Неверный телефон', 'error');\n      this.tel.focus();\n      return false;\n    }\n    if (data.mail && !email.test(data.mail)) {\n      info('Неверный E-mail', 'error');\n      this.mail.focus();\n      return false;\n    }\n    info('Отправка сообщения...', 'info');\n    jsonp({\n      url: \"http://getsimpleform.com/messages/ajax\",\n      data: data,\n      error: error,\n      success: (function(_this) {\n        return function(data) {\n          if (!data.success) {\n            return error();\n          }\n          info('Сообщение отправлено');\n          _this.onsubmit = hide;\n          return _this[_this.length - 1].value = 'Закрыть';\n        };\n      })(this)\n    });\n    return false;\n  };\n};\n\nmodule.exports = submit;\n"
  ],
  "sourceRoot": ""
}